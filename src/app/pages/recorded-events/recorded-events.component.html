<div class="row nav-row">
    <div class="col-12">
        <div class="pull-left">
            <div class="col-12">
                <h3 style="margin-top: 20px; margin: 0px; margin-top: 10px;">
                    <i style="padding-right: 5px;" class="fa-solid fa-calendar-days"></i>
                    Recorded Events
                </h3>
                <p style="margin-bottom: 5px;">
                    View current events, <i class="fa fa-search"></i><b>View</b> or <i class="fa fa-pencil-alt"></i> <b>Edit </b>
                    Device of Event, <i class="fa fa-times-circle"></i> <b> Delete </b> Event or <i
                        class="fa-solid fa-object-group"></i><b> View </b>Device on Floor plan.
            </div>
        </div>
        <div class="pull-right">
            <div class="col-12 tool-buttons" style="padding-top: 15px;">
                <button style="margin-top: 0px;" class="btn btn-default"><i class="fa-solid fa-print"></i> Print
                </button>
            </div>
        </div>
    </div>

    <div class="col-12">
        <div class="pull-left">
            <table>
                <tr>
                    <td>
                        <div>
                            <label style="margin-bottom: 0px;">From</label>
                            <app-date-picker [(inputDate)]="modelFrom"
                                             [mask]="'dd/MM/yyyy 00:00'"
                                             [editable]="true">
                            </app-date-picker>
                        </div>
                    </td>
                    <td>&nbsp;&nbsp;</td>
                    <td>
                        <div>
                            <label style="margin-bottom: 0px;">To</label>
                            <app-date-picker [(inputDate)]="modelTo"
                                             [mask]="'dd/MM/yyyy 00:00'"
                                             [editable]="true">
                            </app-date-picker>
                        </div>
                    </td>
                    <td>
                        <div class="col-12 tool-buttons"
                             (click)="refresh()"
                             style="padding-top: 15px;margin-top: 15px;">
                            <button style="margin-top: 0px;" class="btn btn-success"><i class="fa-solid fa-filter"></i>
                                filter
                            </button>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>

<div class="main-content" style="padding-top: 20px;">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <table class="table table-striped">
                            <tbody>
                            <tr class="text-default table-headers">
                                <th>
                                </th>
                                <th (click)="short('timestamp')">
                                    Timestamp
                                    <i *ngIf="sortBy === 'timestamp' && this.sortType === 'asc'" aria-hidden="true"
                                       class="fa fa-caret-down"></i>
                                    <i *ngIf="sortBy === 'timestamp' && this.sortType === 'desc'" aria-hidden="true"
                                       class="fa fa-caret-up"></i>
                                </th>
                                <th (click)="short('category')">
                                    Category
                                    <i *ngIf="sortBy === 'category' && this.sortType === 'asc'" aria-hidden="true"
                                       class="fa fa-caret-down"></i>
                                    <i *ngIf="sortBy === 'category' && this.sortType === 'desc'" aria-hidden="true"
                                       class="fa fa-caret-up"></i>
                                </th>
                                <th (click)="short('uid')">
                                    UID
                                    <i *ngIf="sortBy === 'uid' && this.sortType === 'asc'" aria-hidden="true"
                                       class="fa fa-caret-down"></i>
                                    <i *ngIf="sortBy === 'uid' && this.sortType === 'desc'" aria-hidden="true"
                                       class="fa fa-caret-up"></i>
                                </th>
                                <th (click)="short('userid')">
                                    User
                                    <i *ngIf="sortBy === 'userid' && this.sortType === 'asc'" aria-hidden="true"
                                       class="fa fa-caret-down"></i>
                                    <i *ngIf="sortBy === 'userid' && this.sortType === 'desc'" aria-hidden="true"
                                       class="fa fa-caret-up"></i>
                                </th>
                                <th (click)="short('name')">
                                    Name
                                    <i *ngIf="sortBy === 'name' && this.sortType === 'asc'" aria-hidden="true"
                                       class="fa fa-caret-down"></i>
                                    <i *ngIf="sortBy === 'name' && this.sortType === 'desc'" aria-hidden="true"
                                       class="fa fa-caret-up"></i>
                                </th>
                                <th (click)="short('source')">
                                    Source
                                    <i *ngIf="sortBy === 'source' && this.sortType === 'asc'" aria-hidden="true"
                                       class="fa fa-caret-down"></i>
                                    <i *ngIf="sortBy === 'source' && this.sortType === 'desc'" aria-hidden="true"
                                       class="fa fa-caret-up"></i>
                                </th>
                                <th (click)="short('description')">
                                    Description
                                    <i *ngIf="sortBy === 'description' && this.sortType === 'asc'" aria-hidden="true"
                                       class="fa fa-caret-down"></i>
                                    <i *ngIf="sortBy === 'description' && this.sortType === 'desc'" aria-hidden="true"
                                       class="fa fa-caret-up"></i>
                                </th>
                            </tr>
                            <tr *ngFor="let currentEvent of filterHiddenRows(this.currentEvents)">
                                <td class="td-action">
                                    <button type="button" data-target="#editDeviceModal" data-toggle="modal"
                                            [ngbTooltip]="viewDeviceStatusDetailsToolTip"
                                            class="btn btn-icon btn-outline-info btn-sm">
                                        <i class="fa-solid fa-wave-square"></i>
                                    </button>
                                </td>
                                <td>
                                    {{ currentEvent.timestamp | date: 'd/M/y, h:mm:ss' }}
                                </td>
                                <td>
                                    {{currentEvent.category}}
                                </td>
                                <td>
                                    {{currentEvent.uid}}
                                </td>
                                <td>
                                    {{currentEvent.userid}}
                                </td>
                                <td>
                                    {{currentEvent.name}}
                                </td>
                                <td>
                                    {{currentEvent.source}}
                                </td>
                                <td>
                                    {{currentEvent.description}}
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<div aria-labelledby="ModalLabel" class="modal fade" id="editDeviceModal" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header justify-content-center">
                <h4 class="title title-up modal-title" style="margin-top: 0px;"><i class="fa fa-pencil-alt"></i> Edit
                    Device</h4>
                <button aria-label="Close" class="close" data-dismiss="modal" type="button"><i
                        class="nc-icon nc-simple-remove"></i></button>
            </div>
            <div class="modal-body">
                <div class="card card-no-shadow">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-3">
                                <div>
                                    <label>UID</label>
                                    <input type="text" class="form-control" value="0000ACB3">
                                    <span class="form-text">Device Id</span>
                                </div>
                            </div>
                            <div class="col-3">
                                <div>
                                    <label>Wireless Io</label>
                                    <br>
                                    <select class="selectpicker" title="Single Select">
                                        <option value="1">138091.18</option>
                                    </select>
                                    <code></code>
                                </div>
                            </div>
                            <div class="col-6">
                                <div>
                                    <label>Name</label>
                                    <input type="text" class="form-control" value="">
                                    <span class="form-text">Edit Device Name</span>
                                </div>
                            </div>
                        </div>
                        <div style="padding-top: 20px;"></div>
                        <div class="row">
                            <div class="col-8">
                                <div>
                                    <label>Output 1 When The System is </label>
                                    <br>
                                    <select class="selectpicker">
                                        <option value="0">None</option>
                                        <option value="1">Lamp Test</option>
                                        <option value="2">Batt. Test</option>
                                        <option value="3">Emerg. Oper.</option>
                                        <option value="4">In Forced emergency Operation</option>
                                        <option value="5">In Fault</option>
                                    </select>
                                    <code></code>
                                </div>
                            </div>

                            <div class="col-4">
                                <div>
                                    <label>On</label>
                                    <br>
                                    <select class="selectpicker">
                                        <option value="0">ALL</option>
                                        <option value="1">Zone 1</option>
                                        <option value="2">Zone 2</option>
                                        <option value="3">Zone 3</option>
                                        <option value="4">Zone 4</option>
                                        <option value="5">Zone 5</option>
                                        <option value="6">Zone 6</option>
                                        <option value="7">Zone 7</option>
                                        <option value="8">Zone 8</option>
                                        <option value="9">Zone 9</option>
                                        <option value="10">Zone 10</option>
                                        <option value="11">Zone 11</option>
                                        <option value="12">Zone 12</option>
                                        <option value="13">Zone 13</option>
                                        <option value="14">Zone 14</option>
                                        <option value="15">Zone 15</option>
                                        <option value="16">Zone 16</option>
                                    </select>
                                    <code></code>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-8">
                                <div>
                                    <label>Output 2 When The System is </label>
                                    <br>
                                    <select class="selectpicker">
                                        <option value="0">None</option>
                                        <option value="1">Lamp Test</option>
                                        <option value="2">Batt. Test</option>
                                        <option value="3">Emerg. Oper.</option>
                                        <option value="4">In Forced emergency Operation</option>
                                        <option value="5">In Fault</option>
                                    </select>
                                    <code></code>
                                </div>
                            </div>

                            <div class="col-4">
                                <div>
                                    <label>On</label>
                                    <br>
                                    <select class="selectpicker">
                                        <option value="0">ALL</option>
                                        <option value="1">Zone 1</option>
                                        <option value="2">Zone 2</option>
                                        <option value="3">Zone 3</option>
                                        <option value="4">Zone 4</option>
                                        <option value="5">Zone 5</option>
                                        <option value="6">Zone 6</option>
                                        <option value="7">Zone 7</option>
                                        <option value="8">Zone 8</option>
                                        <option value="9">Zone 9</option>
                                        <option value="10">Zone 10</option>
                                        <option value="11">Zone 11</option>
                                        <option value="12">Zone 12</option>
                                        <option value="13">Zone 13</option>
                                        <option value="14">Zone 14</option>
                                        <option value="15">Zone 15</option>
                                        <option value="16">Zone 16</option>
                                    </select>
                                    <code></code>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-8">
                                <div>
                                    <label>When inpout 1 is detected </label>
                                    <br>
                                    <select class="selectpicker">
                                        <option value="0">None</option>
                                        <option value="1">Lamp Test</option>
                                        <option value="2">Batt. Test</option>
                                        <option value="3">Emerg. Oper.</option>
                                        <option value="4">In Forced emergency Operation</option>
                                        <option value="5">In Fault</option>
                                    </select>
                                    <code></code>
                                </div>
                            </div>

                            <div class="col-4">
                                <div>
                                    <label>On</label>
                                    <br>
                                    <select class="selectpicker">
                                        <option value="0">ALL</option>
                                        <option value="1">Zone 1</option>
                                        <option value="2">Zone 2</option>
                                        <option value="3">Zone 3</option>
                                        <option value="4">Zone 4</option>
                                        <option value="5">Zone 5</option>
                                        <option value="6">Zone 6</option>
                                        <option value="7">Zone 7</option>
                                        <option value="8">Zone 8</option>
                                        <option value="9">Zone 9</option>
                                        <option value="10">Zone 10</option>
                                        <option value="11">Zone 11</option>
                                        <option value="12">Zone 12</option>
                                        <option value="13">Zone 13</option>
                                        <option value="14">Zone 14</option>
                                        <option value="15">Zone 15</option>
                                        <option value="16">Zone 16</option>
                                    </select>
                                    <code></code>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-8">
                                <div>
                                    <label>When inpout 2 is detected </label>
                                    <br>
                                    <select class="selectpicker">
                                        <option value="0">None</option>
                                        <option value="1">Lamp Test</option>
                                        <option value="2">Batt. Test</option>
                                        <option value="3">Emerg. Oper.</option>
                                        <option value="4">In Forced emergency Operation</option>
                                        <option value="5">In Fault</option>
                                    </select>
                                    <code></code>
                                </div>
                            </div>

                            <div class="col-4">
                                <div>
                                    <label>On</label>
                                    <br>
                                    <select class="selectpicker">
                                        <option value="0">ALL</option>
                                        <option value="1">Zone 1</option>
                                        <option value="2">Zone 2</option>
                                        <option value="3">Zone 3</option>
                                        <option value="4">Zone 4</option>
                                        <option value="5">Zone 5</option>
                                        <option value="6">Zone 6</option>
                                        <option value="7">Zone 7</option>
                                        <option value="8">Zone 8</option>
                                        <option value="9">Zone 9</option>
                                        <option value="10">Zone 10</option>
                                        <option value="11">Zone 11</option>
                                        <option value="12">Zone 12</option>
                                        <option value="13">Zone 13</option>
                                        <option value="14">Zone 14</option>
                                        <option value="15">Zone 15</option>
                                        <option value="16">Zone 16</option>
                                    </select>
                                    <code></code>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer justify-content-center">
                <button type="button" class="btn btn-success btn-round" data-dismiss="modal">
                    <i class="fa fa-save"></i>
                    Save
                </button>
            </div>
        </div>
    </div>
</div>

<ng-template #viewDeviceInFloorPlanToolTip>
    <div><i class="fa fa-save" style="color: #7da7d1;font-size: 12px;"></i> View Device In Floor Plan.
    </div>
</ng-template>

<ng-template #viewDeviceStatusDetailsToolTip>
    <div><i class="fa-solid fa-wave-square" style="color: #7da7d1;font-size: 12px;"></i> View Device Status Details.
    </div>
</ng-template>

<ng-template #viewDeviceToolTip>
    <div><i class="fa fa-search" style="color: #7da7d1;font-size: 12px;"></i> View Device.
    </div>
</ng-template>

<ng-template #viewDeviceToolTip>
    <div><i class="fa fa-search" style="color: #7da7d1;font-size: 12px;"></i> View Device.
    </div>
</ng-template>

<ng-template #editDeviceToolTip>
    <div><i class="fa fa-pencil-alt" style="color: #2e8e06;font-size: 12px;"></i> Edit Device.
    </div>
</ng-template>

<ng-template #deleteDeviceToolTip>
    <div><i class="fa fa-trash-can" style="color: #d00101;font-size: 12px;"></i> Delete Device.
    </div>
</ng-template>


